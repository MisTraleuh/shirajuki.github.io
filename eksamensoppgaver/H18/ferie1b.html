<!doctype html>
<html>
	<head>
		<title>Ferie og fritid</title>
		<meta charset="utf-8" />
		<link href="stil.css" rel="stylesheet" type="text/css">
		<script>
		window.onload = function() {
			document.getElementById("btn").onclick = beregn;
			let div = document.getElementById('divBox');
			for (var i = 0; i < 2; i++) {
				let input = document.createElement('input');
				div.innerHTML += ((i == 0) ? ('Alder: ') : (' Dager:'));
				input.id = ((i == 0) ? ('alder') : ('dager'))
				div.appendChild(input);
			}
		}
		const print = x => document.getElementById("output").innerHTML = x;
		const beregn = () => {
			let alder = +document.getElementById('alder').value;
			let dager = +document.getElementById('dager').value;
			console.log(alder,dager)
			let alderpris = 0, pris = 0, avslag = 0;
			if (alder < 0 || !(dager > 0 && dager < 8) || !Number.isInteger(alder) || !Number.isInteger(dager)) {
				print('Feilmelding: Alder må være heltall og over 0, man kan da også bare bestille for maks én uke. (7 dager)')
			} else {
				if (alder > 12) {
					alderpris = 200;
				} else {
					alderpris = 100;
				}
				pris = alderpris*dager;
				if (pris > alderpris*5) {
					avslag = pris-alderpris*5;
					pris = alderpris*5;
				}
				print((avslag == 0) ? (`Pris: ${pris},-`) : (`Pris: ${pris},-<br/>Avslag: ${avslag},-`));
			}
		}
		</script>
	</head>
	<body>
		<header>
			<p><a href="index.html">Eksamensoppgave H2018</a></p>
		</header>
		<br>
		<main>
			<h1>Beregne pris for heiskort i alpinanlegget</h1>
			<p>Standardpris: 200,- for voksne og 100,- for barn (0 til og med 12 år) per dag</p>
			<div id="divBox">
			</div>
			<br/>
			<button id="btn">Beregn pris</button>
			<p id="output">Pris: 100,-</p>
		</main>
	</body>
</html>
