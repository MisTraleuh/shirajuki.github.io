<!doctype html>
<html>
	<head>
		<title>LIGHTBOX/POPUP</title>
		<meta charset="utf-8" />
		<link href="css/hovedstil.css" rel="stylesheet" type="text/css">
		<link href="css/lightbox.css" rel="stylesheet" type="text/css">
		<style media="screen">
		img {
			width: 300px;
			height: 200px;
		}
		.imageGallery {
			width: 100%;
			min-width: 700px;
			height: 400px;
		}
		.imageBox {
			position: absolute;
			width: 600px;
			height: 300px;
			left: 50%;
			transform: translate(-50%,0);
		}
		.imageBox img {
			margin: 0;
			width: 100%;
			height: 100%;
		}
		.buttonBox {
			position: absolute;
			display: flex;
			top: 0;
			width: 600px;
			height: 300px;
		}
		.imageGallery button {
			width: 33.34%;
			height: 100%;
			margin: 0;
			border: none;
		}
		.imageGallery button:hover {
			cursor: pointer;
		}
		</style>
		<script type="text/javascript">
		let modalImg, videoboks, sporsmal;
		let domCount = [];
		window.onload = function() {
			let img = document.getElementsByClassName('imgBtn')
			for (let i = 0; i < img.length; i++) {
				img[i].onclick = () => imageClicks(i);
			}
			let kryss = document.getElementsByClassName('kryss');
			let video = document.getElementById('video');
			for (let i = 0; i < kryss.length; i++) {
				kryss[i].onclick = () => {
					imageClicks(i,false);
					setTimeout(() => video.load(),400);
				}
			}
			let btnSpm = document.getElementById('btnSpm');
			btnSpm.onclick = () => svarSpm();
			modalImg = document.getElementById('lightbox');
			videoboks = document.getElementById('videoBox');
			sporsmal = document.getElementById('sporsmalBox');
			domCount = [modalImg,videoboks,sporsmal];
			// openClose(true,sporsmal);
		}
		function imageClicks(x, bool=true) {
			for (let i = 0; i < domCount.length; i++) {
				openClose(false,domCount[i]);
			}
			openClose(bool,domCount[x]);
			if (x == 0) {
				document.getElementById('zoom').style.animation = 'none';
				if (bool) {
					document.getElementById('zoom').style.animation = 'zoom 0.5s linear';
				}
			}
		}
		function svarSpm() {
			let allSvar = document.getElementsByName('spm');
			let svar = 0;
			let riktig = 1;
			for (let i = 0; i < allSvar.length; i++) {
				if (allSvar[i].checked) {
					svar = i;
					break
				}
			}
			let melding = document.getElementById('meldingSpm');
			if (svar === riktig) {
				melding.innerHTML = `«Du vet allerede noe om New York – hva med å lære mer?»`;
			} else {
				melding.innerHTML = `«Det var ikke rett – kanskje på tide med en New York-tur?»`;
			}

		}
		function openClose(bool,dom) {
			if (bool) {
				dom.style.visibility = 'visible';
				dom.style.opacity = '1';
				document.getElementById('main').style.display = 'none';
			} else {
				dom.style.visibility = 'hidden';
				dom.style.opacity = '0';
				document.getElementById('main').style.display = 'flex';
			}
		}
		</script>
	</head>
	<body>
		<header>
			<p><a href="index.html">⌂ Eksamensoppgave V2016</a> - Oppgave 1: title</p>
		</header>
		<main id="main">
			<br>
			<div class="content">
				<h1>Regionavis: animasjon</h1>
				<p>
				Ulike applikasjoner som viser til multimedieutvikling
				</p>
				<div class="imageGallery">
					<div>
						<div class="imageBox">
							<img src="vedlegg/bad.png">
							<div class="buttonBox">
								<button class="imgBtn">1</button>
								<button class="imgBtn">2</button>
								<button class="imgBtn">3</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</main>
		<!-- LIGHTBOX -->
		<div id="lightbox">
			<div>
				<a class="kryss">&times;</a>
				<div id="imageZoom">
					<img class='img' id='zoom' src="vedlegg/1stPetersburg.jpg">
				</div>
			</div>
		</div>
		<!-- VIDEOBOX -->
		<div id="videoBox">
			<a class="kryss">&times;</a>
			<div class="videoCenter">
				<video id="video" width="600px" height="300px" controls>
					<source id="videoSource" src="vedlegg/senterpartiet.mp4" type="video/mp4">
				</video>
			</div>
		</div>

		<!-- SPØRSMÅLBOX -->
		<div id="sporsmalBox">
			<a class="kryss">&times;</a>
			<br/>
			<div class="spm">
				<div>
					<h3>Hva heter bygningen på bildet?</h3>
					<p><input type="radio" name="spm" value=""> Za warudo</p>
					<p><input type="radio" name="spm" value=""> World Trade Center</p>
					<p><input type="radio" name="spm" value=""> What True Center</p>
					<button id="btnSpm">SVAR</button>
					<p id="meldingSpm"></p>
				</div>
			</div>
		</div>
		</br>
	</body>
</html>
