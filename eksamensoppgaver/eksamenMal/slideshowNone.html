	<!doctype html>
<html>
	<head>
		<title>SLIDESHOW</title>
		<meta charset="utf-8" />
		<link href="css/hovedstil.css" rel="stylesheet" type="text/css">
		<link href="css/slideshow.css" rel="stylesheet" type="text/css">
		<style media="screen">
		.knapp {
			position: absolute;
			cursor: pointer;
			text-align: center;
			transition: background-color 1s ease, color 0.6s ease;
			animation: fade 0.6s linear;
			animation-fill-mode: forwards;

			border-radius: 10px;
			font-size: 1em;
			font-weight: bold;
			padding: 5px;
			background-color: #eee;
			border-shadow: 1px 1px 10px #000;
			z-index: 999;
		}
		.knapp:hover {
			background-color: #000;
			color: white;
		}
		#knapp {
			width: 100%;
			left: 0;
			bottom: 0;
		}
		#volumeKnapp {
			display: none;
			top: 10px;
			right: 10px;
		}
		.slideText {
			position: absolute;
			text-align: center;
			width: 100%;
			left: 50%;
			top: 35%;
			color: #fff;
			font-size: 3em;
			transform: translate(-50%,-50%);
			z-index: 2;
		}
		.slideCover {
			position: absolute;
			top: 0;
			margin: 0;
			height: 400px;
			width: 100%;
			background-color: rgba(72, 61, 139, 0.9);
			border-radius: 20px;
			z-index: 1;
		}
		</style>
		<script type="text/javascript">
		window.onload = oppstart;
		/* Globale variabler */
		var slideshowCounter = 0;
		let loop;
		var audio, slides, knapp, volumeKnapp;
		/* Oppstart funksjon*/
		function oppstart() { //Laster filer og DOM-objekter som trengs til variblene ovenfor
			knapp = document.getElementById("knapp");
			volumeKnapp = document.getElementById("volumeKnapp");
			audio = new Audio("vedlegg/Beatles_Twist_and_Shout.mp3");
			knapp.onclick = start;
			volumeKnapp.onclick = function() {muteSound(audio,this)};

			slides = document.getElementsByClassName("slides");
			slide(0);
		}
		/* Funksjon for å spille lyd*/
		function playSound(lyd,bool=true) {
			if (bool) {
				lyd.load(); //reload lyd til start
				lyd.play(); //spill lyd
			} else {
				lyd.pause();
			}
		}
		function muteSound(lyd,knapp) {
			if (lyd.muted) {
				lyd.muted = false;
				knapp.innerHTML = '&#128264;';
			} else {
				lyd.muted = true;
				knapp.innerHTML = '&#128263;';
			}
		}
		function start() {
			slideshowCounter = 0;
			knapp.style.display = "none";
			volumeKnapp.style.display = "block";
			playSound(audio);
			loopSlide();
		}
		function loopSlide(bool=true) {
			if (bool) {
				loop = setInterval(slideshow,3000);
			} else {
				if (loop !== undefined) clearInterval(loop);
			}
		}
		function slideshow() {
			slide(slideshowCounter);
			slideshowCounter++;
			if (slideshowCounter >= slides.length) {
				clearInterval(loop);
				setTimeout(() => {
					slide(0)
					knapp.style.display = "block";
					volumeKnapp.style.display = "none";
					playSound(audio,false);
				},2000)
			}
		}
		/* Egen funksjon for å bevege lysbilden*/
		function slide(x) {
			for (let i = 0; i < slides.length; i++) {
				slides[i].style.display = "none";
			}
			slides[x].style.display = "block";
		}
		</script>
	</head>
	<body>
		<header>
			<p><a href="index.html">⌂ Eksamensoppgave V2019</a> - Oppgave 1: Slideshow</p>
		</header>
		<main>
			<br>
			<div class="content">
				<h1>Presentasjon: animasjon</h1>
				<div class="slideshow">
					<div>
						<div class="slides">
							<img src="vedlegg/intro1.jpg">
							<div class="slideCover">
								<p class="slideText">
									NTNU:<br/>
									Historie og fremmedspråk
								</p>
							</div>
					  </div>
						<div class="slides">
					    <img src="vedlegg/intro1.jpg">
					  </div>
						<div class="slides">
							<img src="vedlegg/intro2.jpg">
							<div class="slideCover">
								<p class="slideText">
									kunne inspirere, utfordre og formidle kunnskap<br>
									kommunisere og motivere.
								</p>
							</div>
					  </div>
						<div class="slides">
					    <img src="vedlegg/intro2.jpg">
					  </div>
						<div class="slides">
							<img src="vedlegg/intro3.jpg">
							<div class="slideCover">
								<p class="slideText">
									samfunnsengasjement<br>
									arbeider med fag og mennesker.
								</p>
							</div>
					  </div>
						<div class="slides">
							<img src="vedlegg/intro4.jpg">
							<div class="slideCover">
								<p class="slideText">
									evne til å lede og samarbeide
								</p>
							</div>
					  </div>
						<div class="slides">
							<img src="vedlegg/intro1.jpg">
							<div class="slideCover">
								<p class="slideText">
									Studieopphold i utlandet!
								</p>
							</div>
					  </div>
						<div class="slides">
					    <img src="vedlegg/intro2.jpg">
					  </div>
					  <a class="knapp" id="knapp">Start presentasjon</a>
						<a class="knapp" id="volumeKnapp">&#128264;</a>
					</div>
				</div>
				<br>
			</div>
		</main>
		</br>
	</body>
</html>
